<html>
    <head>
        <link rel="stylesheet" href="css/index.css">
    </head>
    <body>
        <script type="module">
            import {drawContainer} from './container.js'
            import {drawBoard, setBoard} from './board.js'
            import {allTetroes} from './tetromino.js'
            import {setController} from './controller.js'
            import {setGame} from './game.js'
            import {setRandomizer} from './randomizer.js'
            import {setScore, drawScore} from './score.js'
            import {setLevel, drawLevel} from './level.js'
            import {setLines, drawLines} from './lines.js'
            import {drawMenu, setMenu} from './menu.js'
            import {drawPauseMenu, setPauseMenu} from './pause_menu.js'
            import {drawStats, setStats} from './stats.js'
            import {drawTimer, setTimer} from './timer.js'
            import {drawLives, setLives} from './lives.js'

            const SCORE_LEVEL_LINES = 'score-level-lines'
            const BOARD = 'board'
            const NEXT_TIMER_LIVES = 'next-timer-lives'

            /*
                Score, level and lines container
            */
            drawContainer(SCORE_LEVEL_LINES)
            drawScore()
            drawLevel()
            drawLines()

            /*
                Board container
            */
            drawContainer(BOARD)
            drawBoard(BOARD)

            /*
               Next tetromino, timer, lives container
            */
            drawContainer(NEXT_TIMER_LIVES)
            drawBoard(NEXT_TIMER_LIVES, 2, 4, 'Next') 
            drawTimer()
            drawLives()

            /*
                Game engine implementing
            */
            const timer = setTimer()
            const board = setBoard()
            const tetroes = allTetroes()
            const randomizer = setRandomizer(tetroes)
            const score = setScore()
            const level = setLevel()
            const lines = setLines()
            const lives = setLives()
            drawStats()
            const game = setGame(board, randomizer, score, level, lines, timer, lives)
            drawMenu()
            setMenu(game)
            drawPauseMenu()
            setPauseMenu(game)
            setController(game, board, randomizer)
            setStats(game)
        </script>
    </body>
</html>